Fluxo â€œAuthorization Code + PKCEâ€ (o certo em 2026)

1ï¸âƒ£ UsuÃ¡rio acessa /login
2ï¸âƒ£ Seu backend redireciona para o IdP
3ï¸âƒ£ UsuÃ¡rio faz login no IdP (senha, MFA, Google, etc.)
4ï¸âƒ£ IdP redireciona de volta com um code
5ï¸âƒ£ Seu backend troca o code por tokens
6ï¸âƒ£ Seu backend cria sessÃ£o/cookie
7ï¸âƒ£ UsuÃ¡rio navega normalmente (SSR + HTMX)

ğŸ‘‰ Depois do login:

vocÃª nÃ£o usa token no frontend

o site funciona como web clÃ¡ssico com cookie